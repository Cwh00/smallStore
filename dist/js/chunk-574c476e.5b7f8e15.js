(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-574c476e"],{"0bc9":function(e,t,n){"use strict";n("e3a9")},2406:function(e,t,n){"use strict";n("2d12")},"2d12":function(e,t,n){},"3c85":function(e,t,n){"use strict";n("44e2")},"44e2":function(e,t,n){},"45f9":function(e,t,n){"use strict";var c=n("7a23"),r={key:0,class:"goodsList"},a={key:1};function o(e,t,n,o,i,u){var l=Object(c["H"])("goods-list-item");return n.goods.length>0?(Object(c["z"])(),Object(c["g"])("div",r,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(n.goods,(function(e){return Object(c["z"])(),Object(c["g"])(l,{product:e,key:e},null,8,["product"])})),128))])):(Object(c["z"])(),Object(c["g"])("div",a,"没有相关图书"))}n("a4d3"),n("e01a");var i={class:"goods-item"},u={class:"goods-info"},l={class:"price"},s=Object(c["j"])("small",null,"¥",-1),b=Object(c["j"])("i",{class:"iconfont icon-shoucang"},null,-1);function d(e,t,n,r,a,o){var d=Object(c["I"])("lazy");return Object(c["z"])(),Object(c["g"])("div",i,[Object(c["j"])("a",{href:"#",onClick:t[1]||(t[1]=Object(c["T"])((function(e){return r.goDetail(n.product.id)}),["prevent"]))},[Object(c["S"])(Object(c["j"])("img",{alt:n.product.description},null,8,["alt"]),[[d,n.product.cover_url]])]),Object(c["j"])("div",u,[Object(c["j"])("p",null,Object(c["L"])(n.product.title),1),Object(c["j"])("span",l,[s,Object(c["i"])(Object(c["L"])(n.product.price+".00"),1)]),Object(c["j"])("span",null,[b,Object(c["i"])(Object(c["L"])(n.product.collects_count),1)])])])}var j=n("6c02"),f={name:"goodsListItem",props:{product:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(j["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goDetail:t}}};n("3c85");f.render=d;var O=f,p={name:"goodsList",props:{goods:{type:Array,default:function(){return[]}}},components:{goodsListItem:O}};n("e48c");p.render=o;t["a"]=p},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var c=n("1d80"),r=n("5899"),a="["+r+"]",o=RegExp("^"+a+a+"*"),i=RegExp(a+a+"*$"),u=function(e){return function(t){var n=String(c(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(e,t,n){var c=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==n&&c(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},"86e7":function(e,t,n){},a9e3:function(e,t,n){"use strict";var c=n("83ab"),r=n("da84"),a=n("94ca"),o=n("6eeb"),i=n("5135"),u=n("c6b6"),l=n("7156"),s=n("c04e"),b=n("d039"),d=n("7c73"),j=n("241c").f,f=n("06cf").f,O=n("9bf2").f,p=n("58a8").trim,v="Number",g=r[v],m=g.prototype,h=u(d(m))==v,y=function(e){var t,n,c,r,a,o,i,u,l=s(e,!1);if("string"==typeof l&&l.length>2)if(l=p(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:c=2,r=49;break;case 79:case 111:c=8,r=55;break;default:return+l}for(a=l.slice(2),o=a.length,i=0;i<o;i++)if(u=a.charCodeAt(i),u<48||u>r)return NaN;return parseInt(a,c)}return+l};if(a(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,I=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof I&&(h?b((function(){m.valueOf.call(n)})):u(n)!=v)?l(new g(y(t)),n,I):y(t)},T=c?j(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;T.length>L;L++)i(g,k=T[L])&&!i(I,k)&&O(I,k,f(g,k));I.prototype=m,m.constructor=I,o(r,v,I)}},ade3:function(e,t,n){},b08a:function(e,t,n){"use strict";n("86e7")},b3d7:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r={class:"home"},a=Object(c["i"])("图书商城"),o={class:"wrapper"},i={class:"content"};function u(e,t,n,u,l,s){var b=Object(c["H"])("top-nav"),d=Object(c["H"])("tab-control"),j=Object(c["H"])("home-banner"),f=Object(c["H"])("recommend"),O=Object(c["H"])("goodsList"),p=Object(c["H"])("back-top");return Object(c["z"])(),Object(c["g"])("div",r,[Object(c["j"])(b,null,{left:Object(c["R"])((function(){return[]})),default:Object(c["R"])((function(){return[a]})),_:1}),Object(c["S"])(Object(c["j"])(d,{currentIndex:u.tabCurrentIndex,onTabClick:u.tabClick,tabTitles:["畅销","新书","精选"]},null,8,["currentIndex","onTabClick"]),[[c["O"],u.isTabFixed]]),Object(c["j"])("div",o,[Object(c["j"])("div",i,[Object(c["j"])(j,{bannerList:u.bannerList},null,8,["bannerList"]),Object(c["j"])(f,{recommendList:u.recommendList},null,8,["recommendList"]),Object(c["j"])(d,{currentIndex:u.tabCurrentIndex,onTabClick:u.tabClick,tabTitles:["畅销","新书","精选"]},null,8,["currentIndex","onTabClick"]),Object(c["j"])(O,{goods:u.showGoods},null,8,["goods"])])]),Object(c["S"])(Object(c["j"])(p,{onBackTop:u.backTop},null,8,["onBackTop"]),[[c["O"],u.isBackTopShow]])])}var l=n("2909"),s=(n("e7e5"),n("d399")),b=n("f40f"),d=n("1bab");function j(){return Object(d["a"])({url:"/api/index"})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";return Object(d["a"])({url:"/api/index?"+e+"=1&page"+t})}var O=n("2cec"),p=(n("fb6a"),n("a4d3"),n("e01a"),{class:"recommend"});function v(e,t,n,r,a,o){var i=Object(c["I"])("lazy");return Object(c["z"])(),Object(c["g"])("div",p,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(n.recommendList.slice(0,4),(function(e){return Object(c["z"])(),Object(c["g"])("div",{class:"recommend-item",key:e.id},[Object(c["j"])("a",{href:"#",onClick:Object(c["T"])((function(t){return r.goDetail(e.id)}),["prevent"])},[Object(c["S"])(Object(c["j"])("img",{alt:e.description},null,8,["alt"]),[[i,e.cover_url]]),Object(c["j"])("p",null,Object(c["L"])(e.title),1)],8,["onClick"])])})),128))])}var g=n("6c02"),m={name:"Profile",props:{recommendList:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(g["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goDetail:t}}};n("b08a");m.render=v;var h=m,y=Object(c["U"])("data-v-00f8a7a9");Object(c["C"])("data-v-00f8a7a9");var k={class:"tab"};Object(c["A"])();var I=y((function(e,t,n,r,a,o){return Object(c["z"])(),Object(c["g"])("div",k,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(n.tabTitles,(function(e,t){return Object(c["z"])(),Object(c["g"])("div",{class:["tab-item",{active:t==n.currentIndex}],key:t,onClick:function(e){return r.itemClick(t)}},[Object(c["j"])("span",null,Object(c["L"])(e),1)],10,["onClick"])})),128))])})),T=(n("a9e3"),{name:"tabControl",props:{tabTitles:{type:Array,default:function(){return[]}},currentIndex:{type:Number,default:function(){return 0}}},setup:function(e,t){var n=t.emit,c=function(e){n("tabClick",e)};return{itemClick:c}}});n("d290");T.render=I,T.__scopeId="data-v-00f8a7a9";var L=T,w=n("45f9"),C=n("2ae2");function N(e,t,n,r,a,o){var i=Object(c["H"])("van-swipe-item"),u=Object(c["H"])("van-swipe"),l=Object(c["I"])("lazy");return Object(c["z"])(),Object(c["g"])(u,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:Object(c["R"])((function(){return[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(n.bannerList,(function(e){return Object(c["z"])(),Object(c["g"])(i,{key:e.id},{default:Object(c["R"])((function(){return[Object(c["S"])(Object(c["j"])("img",{alt:e.title},null,8,["alt"]),[[l,e.img_url]])]})),_:2},1024)})),128))]})),_:1})}var E={name:"homeBanner",props:{bannerList:{type:Array,default:function(){return[]}}}};n("2406");E.render=N;var x=E,z={name:"Home",setup:function(e,t){var n=Object(c["E"])([]),r=Object(c["E"])([]),a=Object(c["E"])(!1),o=Object(c["E"])(0),i=Object(c["E"])(!1),u=Object(c["D"])({sales:{page:1,list:[]},recommend:{page:1,list:[]},new:{page:1,list:[]}}),d=Object(c["E"])("sales"),O=function(e){o.value=e;var t=["sales","new","recommend"];d.value=t[e],Object(c["q"])((function(){v&&v.refresh()}))},p=Object(c["e"])((function(){return u[d.value].list})),v=Object(c["D"])({});Object(c["w"])((function(){s["a"].loading({message:"正在加载"}),j().then((function(e){n.value=e.slides,r.value=e.goods.data})),f("sales").then((function(e){u.sales.list=e.goods.data})),f("recommend").then((function(e){u.recommend.list=e.goods.data})),f("new").then((function(e){u.new.list=e.goods.data})),s["a"].clear(),v=new b["a"](document.querySelector(".wrapper"),{probeType:3,click:!0,pullUpLoad:!0}),v.on("scroll",(function(e){i.value=a.value=-e.y>document.querySelector(".my-swipe").clientHeight+document.querySelector(".recommend").clientHeight})),v.on("pullingUp",(function(){var e=u[d.value].page+1;f(d.value,e).then((function(e){var t;(t=u[d.value].list).push.apply(t,Object(l["a"])(e.goods.data)),u[d.value].page+=1,v.finishPullUp()})),v.refresh()}))})),Object(c["Q"])((function(){Object(c["q"])((function(){v&&v.refresh()}))}));var g=function(){v.scrollTo(0,0,500)};return{bannerList:n,onMounted:c["w"],recommendList:r,tabClick:O,goods:u,currentType:d,showGoods:p,bscroll:v,isTabFixed:a,isBackTopShow:i,backTop:g,tabCurrentIndex:o}},components:{topNav:O["a"],recommend:h,tabControl:L,goodsList:w["a"],backTop:C["a"],homeBanner:x}};n("0bc9");z.render=u;t["default"]=z},c617:function(e,t,n){},d290:function(e,t,n){"use strict";n("c617")},e3a9:function(e,t,n){},e48c:function(e,t,n){"use strict";n("ade3")}}]);
//# sourceMappingURL=chunk-574c476e.5b7f8e15.js.map